CMAKE_MINIMUM_REQUIRED(VERSION 2.4)

PROJECT(OBDLogger)

SET(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${OBDLogger_SOURCE_DIR}/cmakemodules")

OPTION(ENABLE_GPSD "Enable gps support using libgps" TRUE)
IF(ENABLE_GPSD)
	ADD_DEFINITIONS(-DHAVE_GPSD)
	FIND_PACKAGE(GPSD)
	IF(GPSD_FOUND)
		INCLUDE_DIRECTORIES(${GPSD_INCLUDE_DIR})
	ELSE(GPSD_FOUND)
		MESSAGE(ERROR "Couldn't find libgps")
	ENDIF(GPSD_FOUND)
ENDIF(ENABLE_GPSD)

SET(EXECUTABLE_OUTPUT_PATH "${OBDLogger_SOURCE_DIR}/bin")

SUBDIRS(
	libs
)

INCLUDE_DIRECTORIES(
	libs/libserial
	libs/sqlite3
)

SUBDIRS(
	src/
	src/kml/
)

